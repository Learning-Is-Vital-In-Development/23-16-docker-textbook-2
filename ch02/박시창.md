# 2. 도커의 기본적인 사용법

 - **컨테이너**가 무엇인지 알아보기
 - 경량 실행 원리 알아보기
 - 간단한 명령으로 실습해볼것입니다.
## 2.1 컨테이너로 hello world

- `docker container run diamol/ch02-hello-diamol`
- 이미지 빌드 -> 이미지 공유 -> 이미지 실행 (**도커를 사용하는 워크플로의 핵심**)
- **IaaS 서비스로서의 인프라**
    - 운영비가 높음
    - 가상머신 성능 전부 활용 불가

- **PaaS 서비스로서의 플랫폼**
    - 특정 클라우드에 종속됨
    - 운영비 절감
- **도커**
    - 두개의 단점 없음
- 보통 단일 애플리케이션 -> 하나의 컨테이너로 이식
- 추가되는 기능은 추가적 컨테이너로 추가하는 방향

- 추후에는 컨테이너를 사용해 일관성 -> 모두 같은 도구, 같은 프로세스, 런타임을 사용해서 빌드, 배포, 운영을 할 수 있다.

- devops를 도입하면 CALMS 개념을 도입하기 편해진다.
  
## 2.2 컨테이너란 무엇인가?
  - 도커라는 하이퍼바이저(게스트 OS를 올리기 위한 논리적 플랫폼)
  - 컨테이너들은 각각 호스트명, IP주소, 디스크 드라이브를 가진다.
  - **격리**
    - 가능한 독립된 환경에서 실행
    
  - **밀집**
    - 가능한 많은 CPI 와 메모리 활용
  두가지 조건을 충족시켜야 되는데 VM에서는 운영체제를 공유하지 않고 새로운 GUEST OS를 가지게 된다.
  격리는 되지만 밀집이 되지않음
  그와 반면에 DOCKER는 호스트 운영체제를 공유한다.

## 2.3 컨테이너를 원격 컴퓨터처럼 사용하기
  - 터미널 세션으로 조작할 수 있는 대화식 컨테이너
  - `docker container run --interactive --tty diamol/base`
  - `docker container ls`
  - `docker container top f1` 
  - `docker container logs`
  - `docker container inspect`
## 2.4 컨테이너를 사용해 웹사이트 호스팅하기
  - 컨테이너 내부의 애플리케이션이 실행 중이어야 컨테이너도 실행중
  - 컨테이너가 종료되도 컨테이너는 사라지지 않음 (파일 시스템 살아있음--> 점유중)
  - 옵션 --detach, --publish  --> 외부 환경에 ip 노출됨
  - `docker container stats`-> 상태확인
## 2.5 컨테이너를 실행하는 원리
  - Docker Engine
    - 이미지 다운로드, 리소스 생성(네트워크), 백그라운드 프로세스
    - 도커 API를 통해 명령어를 받고 호출을 수행
    - 우리가 사용하는 CLI는 API를 사용한다
    - Containerd라는 컴포넌트를 사용해서 linux, windows, 같은 호스트 운영체제로부터 동일한 컨테이너를 생성하게된다.
  
## 2.5 도커가 컨테이너를 실행하는 원리
## 2.6 연습 문제: 컨테이너 파일 시스템 다루기


### 목표 - 도커를 사용하는 방법을 배우기 NOT DOCKER IN ACTION
